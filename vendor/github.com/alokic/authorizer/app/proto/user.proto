syntax = "proto3";
package proto;
import "github.com/gogo/protobuf/gogoproto/gogo.proto";

message User {
	reserved 6;
	option (gogoproto.goproto_getters) = false;
	uint64 id = 1;        
	string name  = 2;                   
    string email  = 3;     
	uint64 external_id = 4;
	string state = 5;
	int64 created_at = 7;
	int64 updated_at = 8;      
}

message UserCreateRequest {
	option (gogoproto.goproto_getters) = false;    
	string name  = 1;                   
    string email  = 2;     
	uint64 external_id = 3;
}

message UserCreateReply {
	User user = 1;
	string token = 2;
}

message UserListRequest {
	option (gogoproto.goproto_getters) = false;
	repeated uint64 ids = 1;
}

message UserListReply {
	repeated User users = 1;
}

message UserGetRequest {
	option (gogoproto.goproto_getters) = false;
	uint64 id = 1;
}

message UserGetReply {
	User user = 1;
}

message UserBlockRequest {
	option (gogoproto.goproto_getters) = false;
	uint64 id = 1;
	uint64 block_id = 2;
}

message UserBlockReply {
	bool result = 1;
}

message UserActivateRequest {
	option (gogoproto.goproto_getters) = false;
	uint64 id = 1;
	uint64 activate_id = 2;
}

message UserActivateReply {
	bool result = 1;
}

message UserSignInRequest {
	option (gogoproto.goproto_getters) = false;
	string email = 1;
	string password = 2;
}

message UserSignInReply {
	User user = 1;
	string token = 2;
}

message UserSignOutRequest {
	option (gogoproto.goproto_getters) = false;
	uint64 id = 1;
}

message UserSignOutReply {
}

message UserIsAllowedRequest {
	option (gogoproto.goproto_getters) = false;
	uint64 id = 1;
}

message UserIsAllowedReply {
	bool allowed = 1;
	string msg = 2;
}
